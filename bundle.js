!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);class a{constructor({amp:e,freq:t,phase:n=0,vShift:a=0}){this.amp=e,this.freq=t,this.phase=n,this.vShift=a}getPoint(e){return this.amp*Math.sin(e/this.freq+this.phase)+this.vShift}}function i(e,t=null,n=null){const a=document.createElement(e);return t&&function(e,t){Object.keys(t).forEach(n=>{switch(n){case"classes":t[n].forEach(t=>e.classList.add(t));break;case"textContent":e.textContent=t[n];break;case"selected":e.selected=t[n];default:e.setAttribute(n,t[n])}})}(a,t),n&&function(e,t){t.forEach(t=>e.appendChild(t))}(a,n),a}class s{constructor({parent:e,max:t,min:n,step:a=1,value:i,prop:s,scope:l,updateFn:r,label:o}){this.prop=s,this.scope=l,this.updateFn=r,this.label=o,this.max=t,this.min=n,this.step=a,this.value=i,this.parent=e,this.node=null,this.input=null,this.output=null,this.render(),this.eventListener()}render(){this.input=i("input",{type:"range",id:this.prop,max:this.max,min:this.min,step:this.step,value:this.value}),this.output=i("output",{textContent:this.value}),this.node=i("div",{classes:["slider"]},[i("label",{for:this.prop,textContent:`${this.label} â€” `}),this.output,i("br"),this.input]),this.parent.appendChild(this.node)}disable(){this.input.disabled=!0,this.node.style.opacity=.3}enable(){this.input.disabled=!1,this.node.style.opacity=1}eventListener(){this.input.addEventListener("input",this.eventHandler.bind(this))}eventHandler(e){const t=this.input.valueAsNumber;this.output.textContent=t,this.scope[this.prop]=t,this.updateFn()}}class l{constructor({parent:e,prop:t,scope:n=null,updateFn:a,value:i,labelTrue:s="on",labelFalse:l="off"}){this.prop=t,this.scope=n,this.updateFn=a,this.labelTrue=s,this.labelFalse=l,this.value=i,this.node=null,this.parent=e,this.render(),this.eventListener()}render(){this.node=i("button",{id:this.prop,classes:["toggle"]},null),this.value?this.node.textContent=this.labelTrue:(this.node.classList.add("deactivated"),this.node.textContent=this.labelFalse),this.parent.appendChild(this.node)}eventListener(){this.node.addEventListener("click",this.eventHandler.bind(this))}eventHandler(e){this.node.classList.toggle("deactivated"),this.value=!this.value,this.value?this.node.textContent=this.labelTrue:this.node.textContent=this.labelFalse,this.scope&&(this.scope[this.prop]=this.value),this.updateFn()}}function r({wave:e,label:t,num:n,activeWaves:a,updateFn:i}){const r=document.querySelector("#ui"),o=document.createElement("div"),p=document.createElement("p");p.textContent=t,o.appendChild(p),r.appendChild(o);const u=new s({parent:o,max:400,min:-400,value:e.amp,label:"amp",prop:"amp",scope:e,updateFn:i}),h=new s({parent:o,max:400,min:1,value:e.freq,label:"freq",prop:"freq",scope:e,updateFn:i}),d=new s({parent:o,max:200,min:0,value:e.phase,label:"phase",prop:"phase",scope:e,updateFn:i}),c=new s({parent:o,max:300,min:-300,value:e.vShift,label:"vShift",prop:"vShift",scope:e,updateFn:i});if(1!==n){new l({parent:o,prop:"wave"+String(n),scope:a,value:!1,updateFn:function(){this.value?(u.enable(),h.enable(),d.enable(),c.enable()):(u.disable(),h.disable(),d.disable(),c.disable()),i()}}).updateFn()}return{ampSlider:u,freqSlider:h,phaseSlider:d,vShiftSlider:c}}const o=function(e="canvas"){const t=window.devicePixelRatio,n=window.innerHeight,a=window.innerWidth,i=document.querySelector(e);i.width=a*t,i.height=n*t;const s=i.getContext("2d");return s.scale(t,t),s}(),p=o.canvas.clientWidth,u=o.canvas.clientHeight,h=new a({amp:100,freq:100,phase:0,vShift:0}),d=new a({amp:100,freq:100,phase:0,vShift:0}),c=new a({amp:100,freq:100,phase:0,vShift:0}),v=new a({amp:100,freq:100,phase:0,vShift:0}),f=new a({amp:100,freq:100,phase:0,vShift:0});let b={wave2:!1,wave3:!1,wave4:!1,wave5:!1},m=r({wave:h,label:"Signal",num:1,activeWaves:b,updateFn:S});r({wave:d,label:"Modulator 1: signal amp",num:2,activeWaves:b,updateFn:S}),r({wave:c,label:"Modulator 2: signal freq",num:3,activeWaves:b,updateFn:S}),r({wave:v,label:"Modulator 3: signal phase",num:4,activeWaves:b,updateFn:S}),r({wave:f,label:"Modulator 4: signal vShift",num:5,activeWaves:b,updateFn:S});function S(){o.clearRect(0,0,p,u),o.beginPath();for(let e=0;e<p;e++){b.wave2?(h.amp=d.getPoint(e),m.ampSlider.disable()):m.ampSlider.enable(),b.wave3?(h.freq=c.getPoint(e),m.freqSlider.disable()):m.freqSlider.enable(),b.wave4?(h.phase=v.getPoint(e),m.phaseSlider.disable()):m.phaseSlider.enable(),b.wave5?(h.vShift=f.getPoint(e),m.vShiftSlider.disable()):m.vShiftSlider.enable();let t=h.getPoint(e);o.lineTo(e,t+u-u/2)}o.stroke()}!function(){const e=document.querySelector("#panel"),t=document.querySelector("#toggle-panel");new l({parent:t,prop:"toggle-panel-btn",value:!1,labelTrue:"O",labelFalse:"X",updateFn:function(){this.value?e.classList.add("hide"):e.classList.remove("hide")}})}(),S()}]);