!function(e){var t={};function i(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);class a{constructor({amp:e,freq:t,phase:i=0,vShift:a=0}){this.amp=e,this.freq=t,this.phase=i,this.vShift=a}getPoint(e){return this.amp*Math.sin(e/this.freq+this.phase)+this.vShift}}function n(e,t=null,i=null){const a=document.createElement(e);return t&&function(e,t){Object.keys(t).forEach(i=>{switch(i){case"classes":t[i].forEach(t=>e.classList.add(t));break;case"textContent":e.textContent=t[i];break;case"selected":e.selected=t[i];default:e.setAttribute(i,t[i])}})}(a,t),i&&function(e,t){t.forEach(t=>e.appendChild(t))}(a,i),a}class s{constructor({parent:e,max:t,min:i,step:a=1,value:n,prop:s,scope:l,updateFn:r,label:o}){this.prop=s,this.scope=l,this.updateFn=r,this.label=o,this.max=t,this.min=i,this.step=a,this.value=n,this.parent=e,this.node=null,this.input=null,this.output=null,this.render(),this.eventListener()}render(){this.input=n("input",{type:"range",id:this.prop,max:this.max,min:this.min,step:this.step,value:this.value}),this.output=n("output",{textContent:this.value}),this.node=n("div",{classes:["slider"]},[n("label",{for:this.prop,textContent:`${this.label} â€” `}),this.output,n("br"),this.input]),this.parent.appendChild(this.node)}disable(){this.input.disabled=!0,this.node.style.opacity=.3}enable(){this.input.disabled=!1,this.node.style.opacity=1}eventListener(){this.input.addEventListener("input",this.eventHandler.bind(this))}eventHandler(e){const t=this.input.valueAsNumber;this.output.textContent=t,this.scope[this.prop]=t,this.updateFn()}}class l{constructor({parent:e,prop:t,scope:i=null,updateFn:a,value:n,labelTrue:s="on",labelFalse:l="off",title:r=null}){this.prop=t,this.scope=i,this.updateFn=a,this.labelTrue=s,this.labelFalse=l,this.value=n,this.title=r,this.node=null,this.parent=e,this.render(),this.eventListener()}render(){this.node=n("button",{id:this.prop,classes:["toggle"]},null),this.title&&(this.node.title=this.title),this.value?this.node.innerHTML=this.labelTrue:(this.node.classList.add("deactivated"),this.node.innerHTML=this.labelFalse),this.parent.appendChild(this.node)}eventListener(){this.node.addEventListener("click",this.eventHandler.bind(this))}eventHandler(e){this.node.classList.toggle("deactivated"),this.value=!this.value,this.value?this.node.innerHTML=this.labelTrue:this.node.innerHTML=this.labelFalse,this.scope&&(this.scope[this.prop]=this.value),this.updateFn()}}const r={cross:'<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" class="svg-inline--fa fa-times fa-w-11" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512"><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg>',circle:'<svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="circle" class="svg-inline--fa fa-circle fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200z"></path></svg>',circleSolid:'<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="circle" class="svg-inline--fa fa-circle fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"></path></svg>'};function o({wave:e,label:t,num:i,activeWaves:a,updateFn:n}){const r=document.querySelector("#ui"),o=document.createElement("div"),p=document.createElement("p");p.textContent=t,o.appendChild(p),r.appendChild(o);const u=new s({parent:o,max:400,min:-400,value:e.amp,label:"amp",prop:"amp",scope:e,updateFn:n}),h=new s({parent:o,max:400,min:1,value:e.freq,label:"freq",prop:"freq",scope:e,updateFn:n}),d=new s({parent:o,max:200,min:0,value:e.phase,label:"phase",prop:"phase",scope:e,updateFn:n}),c=new s({parent:o,max:300,min:-300,value:e.vShift,label:"vShift",prop:"vShift",scope:e,updateFn:n});if(1!==i){new l({parent:o,prop:"wave"+String(i),scope:a,value:!1,updateFn:function(){this.value?(u.enable(),h.enable(),d.enable(),c.enable()):(u.disable(),h.disable(),d.disable(),c.disable()),n()}}).updateFn()}return{ampSlider:u,freqSlider:h,phaseSlider:d,vShiftSlider:c}}const p=function(e="canvas"){const t=window.devicePixelRatio,i=window.innerHeight,a=window.innerWidth,n=document.querySelector(e);n.width=a*t,n.height=i*t;const s=n.getContext("2d");return s.scale(t,t),s}(),u=p.canvas.clientWidth,h=p.canvas.clientHeight,d=new a({amp:100,freq:100,phase:0,vShift:0}),c=new a({amp:100,freq:100,phase:0,vShift:0}),v=new a({amp:100,freq:100,phase:0,vShift:0}),f=new a({amp:100,freq:100,phase:0,vShift:0}),b=new a({amp:100,freq:100,phase:0,vShift:0});let m={wave2:!1,wave3:!1,wave4:!1,wave5:!1},w=o({wave:d,label:"Signal",num:1,activeWaves:m,updateFn:g});o({wave:c,label:"Modulator 1: signal amp",num:2,activeWaves:m,updateFn:g}),o({wave:v,label:"Modulator 2: signal freq",num:3,activeWaves:m,updateFn:g}),o({wave:f,label:"Modulator 3: signal phase",num:4,activeWaves:m,updateFn:g}),o({wave:b,label:"Modulator 4: signal vShift",num:5,activeWaves:m,updateFn:g});function g(){p.clearRect(0,0,u,h),p.beginPath();for(let e=0;e<u;e++){m.wave2?(d.amp=c.getPoint(e),w.ampSlider.disable()):w.ampSlider.enable(),m.wave3?(d.freq=v.getPoint(e),w.freqSlider.disable()):w.freqSlider.enable(),m.wave4?(d.phase=f.getPoint(e),w.phaseSlider.disable()):w.phaseSlider.enable(),m.wave5?(d.vShift=b.getPoint(e),w.vShiftSlider.disable()):w.vShiftSlider.enable();let t=d.getPoint(e);p.lineTo(e,t+h-h/2)}p.stroke()}!function(){const e=document.querySelector("#panel"),t=document.querySelector("#toggle-panel");new l({parent:t,prop:"toggle-panel-btn",value:!1,labelTrue:r.circle,labelFalse:r.cross,updateFn:function(){this.value?e.classList.add("hide"):e.classList.remove("hide")}})}(),g()}]);